import"./style-980df246.js";const r={clickCount:0,sessionStarted:+Date.now(),keypressCount:0,charactersTyped:0};function x(){T()}function T(){r.clickCount=0,r.sessionStarted=+Date.now(),r.keypressCount=0,r.charactersTyped=0}window.addEventListener("click",()=>{r.clickCount++});const m=document.querySelector("#form-sign-up"),f=new Array;m.querySelectorAll("input").forEach(e=>f.push(e));m.querySelectorAll("select").forEach(e=>f.push(e));m.querySelectorAll("textarea").forEach(e=>f.push(e));f.forEach(e=>{e.addEventListener("keydown",n=>{r.keypressCount++,n.key.length===1&&r.charactersTyped++})});const u=document.querySelector("#login-box"),s=u.querySelector(".flying-thingy"),d=u.querySelector("#sign-in-button"),p=u.querySelector("#sign-up-button"),C=u.querySelector("#form-sign-in"),I=u.querySelector("#form-sign-up");function a(e){s.style.left=`${e}px`}let l=!0;d.addEventListener("click",()=>{l=!0,a(y()),g()});p.addEventListener("click",()=>{l=!1,a(w()),g()});function g(){C.style.display=l?"block":"none",I.style.display=l?"none":"block",T()}function y(){return d.offsetLeft+d.offsetWidth/2-s.offsetWidth/2}function w(){return p.offsetLeft+p.offsetWidth/2-s.offsetWidth/2}document.addEventListener("readystatechange",()=>{g(),a(y()),x()});window.addEventListener("resize",()=>{s.style.transition=".0s",a(l?y():w()),setTimeout(()=>{s.style.transition=".2s"},100)});setTimeout(()=>{s.style.transition=".2s"},100);const B={id:{minLength:5,maxLength:12,startWithCapital:!0,endWithNumberOrSpecialCharacter:!0,required:!0},password:{minLength:12,required:!0},name:{alphabeticOnly:!0,required:!0},country:{alphabeticOnly:!0,required:!0},zip:{zipCode:!0,required:!0},email:{isEmailAddress:!0,required:!0},language:{required:!0,alphabeticOnly:!0},sex:{required:!0}};document.querySelectorAll("form").forEach(e=>{const t=e;t.addEventListener("submit",n=>{n.preventDefault();let b=!0,A=[],c=new Array;if(t.querySelectorAll("input").forEach(i=>c.push(i)),t.querySelectorAll("select").forEach(i=>c.push(i)),t.querySelectorAll("textarea").forEach(i=>c.push(i)),c.forEach(i=>{const o=i;let S=B[o.name],h=W(o,o.name);if(A.push({name:o.name,value:o.value}),!S){k(h);return}let q=M(S,o.value);if(q){b=!1,$(h,q);return}k(h)}),!b)return;let E="";A.forEach(i=>{E+=i.name+": "+i.value+`
`}),alert(E),t.getAttribute("id")==="form-sign-up"&&O()})});function O(){let e=document.getElementById("gdpr-hell"),t=Math.floor((+Date.now()-r.sessionStarted)/1e3),n=Math.floor(t/60);t-=n*60,e.innerHTML=`Number of mouse clicks: ${r.clickCount}<br>
Total time spent: ${n} minutes and ${t} seconds<br>
Total key presses: ${r.keypressCount}<br>
Total number of characters types: ${r.charactersTyped}<br>
<a href="./goal.html">Proceed to goal page</a>
`,e.style.display="block"}function L(e){return e=e.toLowerCase(),e>="a"&&e<="z"}function M(e,t){if(e.required&&!t)return"This is a required field";if(e.startWithCapital&&(t.length==0||t.charAt(0)<"A"||t.charAt(0)>"Z"))return"Must start with a capital letter";if(e.minLength&&t.length<e.minLength)return"Minimum length is "+e.minLength;if(e.maxLength&&t.length>e.maxLength)return"Maximum length is "+e.minLength;if(e.alphabeticOnly){for(let n=0;n<t.length;n++)if(!L(t.charAt(n)))return"Only alphabetical characters are allowed."}if(e.isEmailAddress&&(t.indexOf(".")===-1||t.indexOf("@")===-1||t.indexOf("@")>t.lastIndexOf(".")))return"Invalid email address";if(e.zipCode){if(t.length!=6)return"Zip should be of format 1234AB";for(let n=0;n<4;n++)if(t.charAt(n)<"0"||t.charAt(n)>"9")return"Zip should be of format 1234AB";for(let n=4;n<6;n++)if(t.charAt(n)<"A"||t.charAt(n)>"Z")return"Zip should be of format 1234AB"}if(e.endWithNumberOrSpecialCharacter){let n=t.charAt(t.length-1);if(L(n))return"Must end with a special character or a number."}return null}function W(e,t){let n=e.parentElement.querySelector("#note-"+t);return n||(n=document.createElement("span"),n.setAttribute("id","note-"+t),n.classList.add("input-note"),e.parentNode.insertBefore(n,e.nextSibling)),n}function k(e){e.style.color="#669B45",e.innerHTML="Looks good!"}function $(e,t){e.style.color="#B8695F",e.innerText=t}
